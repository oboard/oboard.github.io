<html>

<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta name="viewport" 
     content="width=device-width, initial-scale=1.0, maximum-scale=1.0, 
     user-scalable=0;"/>

    <title>图片锁定</title>
    <script>
        function lock() {
            document.body.style.overflow = 'hidden';
const keyCodeMap = {
    // 91: true, // command
    61: true,
    107: true, // 数字键盘 +
    109: true, // 数字键盘 -
    173: true, // 火狐 - 号
    187: true, // +
    189: true, // -
};
// 覆盖ctrl||command + ‘+’/‘-’
document.onkeydown = function (event) {
    const e = event || window.event;
    const ctrlKey = e.ctrlKey || e.metaKey;
    if (ctrlKey && keyCodeMap[e.keyCode]) {
        e.preventDefault();
    } else if (e.detail) { // Firefox
        event.returnValue = false;
    }
};
// 覆盖鼠标滑动
document.body.addEventListener('wheel', (e) => {
    if (e.ctrlKey) {
        if (e.deltaY < 0) {
            e.preventDefault();
            return false;
        }
        if (e.deltaY > 0) {
            e.preventDefault();
            return false;
        }
    }
}, { passive: false });
        }

        function handleFiles(files) {
            var preview = document.getElementById('preview');
            for (var i = 0; i < files.length; i++) {
                var file = files[i];
                var imageType = /^image\//;

                if (!imageType.test(file.type)) {
                    continue;
                }

                var img = document.createElement("img");
                img.classList.add("obj");
                img.file = file;
                // 假设 "preview" 是将要展示图片的 div
                preview.appendChild(img);

                var reader = new FileReader();
                reader.onload = (function(aImg) {
                    return function(e) {
                        aImg.src = e.target.result;
                    };
                })(img);
                reader.readAsDataURL(file);
            }
        }
    </script>
</head>

<body style="margin: 0;padding: 0;">
    <input type="file" id="input" onchange="handleFiles(this.files)">
    <div id="preview" style="position:absolute;"></div>
    <button onclick="lock();" style="position:fixed;left: 0;bottom: 0;">锁定</button>
</body>

</html>